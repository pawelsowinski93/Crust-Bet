(this.webpackJsonpcrustlab=this.webpackJsonpcrustlab||[]).push([[0],{100:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(8),s=n.n(r),i=(n(100),n(15)),o=n(17),l=localStorage.getItem("bets"),d={games:[],participants:[],bets:l?JSON.parse(l):[]},j=n(159),b=function(e,t,n){var c=e.filter((function(e){return e.id===n})).map((function(e){return e.participants}));return c.length>0?t.filter((function(e){var t=e.id;return c[0].includes(t)})):[]},p=function(e,t){return console.log(e),t&&e.length?e.filter((function(e){var n=e.id;return t===n}))[0].name:""},u=function(e,t){if(e.length>2){var n=[];return n.push({raceName:t,first:e[0].body,second:e[1].body,third:e[2].body}),n}return[]},h=n(83),O=n(60),m=n(2),f=Object(j.a)((function(e){return{container:{flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:e.spacing(10),position:"relative"},root:{display:"flex",flexWrap:"wrap",justifyContent:"center","& > *":{margin:e.spacing(6),width:e.spacing(70),height:e.spacing(90),borderRadius:"10px"}}}})),x=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},g=function(e){var t=e.classes,n=e.participants,r=e.dispatch,s=e.bets,i=e.games,l=Object(c.useState)(x("active-step")||0),d=Object(o.a)(l,2),j=d[0],p=d[1],u=Object(c.useState)(x("selected-game")||null),g=Object(o.a)(u,2),v=g[0],y=g[1],S=Object(c.useState)(x("bet-list")||[]),I=Object(o.a)(S,2),C=I[0],k=I[1],N=Object(c.useState)(x("is-bet-action-open")||!1),B=Object(o.a)(N,2),w=B[0],L=B[1],E=Object(c.useState)(x("is-order-set")||!1),W=Object(o.a)(E,2),T=W[0],J=W[1],D=Object(c.useState)(x("is-confirmation-open")||!1),G=Object(o.a)(D,2),P=G[0],F=G[1],z=f({classes:t});return a.a.useEffect((function(){localStorage.setItem("active-step",JSON.stringify(j)),localStorage.setItem("selected-game",JSON.stringify(v)),localStorage.setItem("bet-list",JSON.stringify(C)),localStorage.setItem("is-bet-action-open",JSON.stringify(w)),localStorage.setItem("is-order-set",JSON.stringify(T)),localStorage.setItem("is-confirmation-open",JSON.stringify(P))}),[j,v,C,w,T,P]),a.a.useEffect((function(){localStorage.setItem("bets",JSON.stringify(s))}),[s]),a.a.useEffect((function(){p(v?1:0)}),[v]),Object(m.jsx)(O.a,{maxSnack:1,children:Object(m.jsxs)("div",{className:z.container,children:[Object(m.jsx)(A,{activeStep:j}),Object(m.jsxs)("div",{className:z.root,children:[Object(m.jsx)(h.a,{elevation:4,children:!w&&Object(m.jsx)(_,{games:i,selectedGame:v,setBetList:k,setIsOrderSet:J,setSelectedGame:y})}),Object(m.jsx)(h.a,{elevation:4,children:v&&Object(m.jsx)(te,{participants:b(i,n,v),games:i,setIsOrderSet:J,setAcviveStep:p,setBetList:k,betList:C,dispatch:r,isOrderSet:T,selectedGame:v})}),Object(m.jsx)(h.a,{elevation:4,children:2===j&&Object(m.jsx)(ie,{setAcviveStep:p,setIsConfirmationOpen:F,setIsOrderSet:J,betList:C})})]}),w&&Object(m.jsx)(R,{setIsBetActionOpen:L,bets:s}),P&&Object(m.jsx)(pe,{setIsOpen:F,open:P,betList:C,dispatch:r,setSelectedGame:y,setAcviveStep:p,setBetList:k,setIsOrderSet:J,setIsBetActionOpen:L})]})})},v=n(162),y=n(163),S=n(164),I=Object(j.a)((function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:".5rem 1rem",height:"6vh",background:"#fff"},companyInfoWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},logo:{width:"1.8rem",marginRight:".5rem"}}})),C=function(e){var t=e.classes,n=e.setIsDrawerOpen,c=e.bets,a=I({classes:t});return Object(m.jsxs)("div",{className:a.container,children:[Object(m.jsxs)("div",{className:a.companyInfoWrapper,children:[Object(m.jsx)("img",{className:a.logo,src:"https://nofluffjobs.com/upload/CrustLab_20190612_164243.png",alt:"crutLab"}),Object(m.jsx)("p",{children:"CrustLab"})]}),Object(m.jsx)(v.a,{onClick:function(){return n(!0)},color:"inherit",children:Object(m.jsx)(y.a,{badgeContent:c.length,color:"secondary",children:Object(m.jsx)(S.a,{})})})]})},k=n(191),N=n(165),B=n(189),w=Object(j.a)((function(e){return{root:{width:"100%",position:"sticky",top:".5rem",backdropFilter:"blur(5px)"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},stepper:{background:"none"},label:{fontSize:"1.2rem",fontWeight:"bold"}}}));var A=function(e){var t=e.classes,n=e.activeStep,c=w({classes:t});return Object(m.jsx)("div",{className:c.root,children:Object(m.jsx)(k.a,{classes:{root:c.stepper},activeStep:n,alternativeLabel:!0,children:["Select game...","Type positions...","Complete bet"].map((function(e){return Object(m.jsx)(N.a,{children:Object(m.jsx)(B.a,{classes:{alternativeLabel:c.label},children:e})},e)}))})})},L=n(166),E=Object(j.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100vw",height:"100%",top:"0",left:"0",backdropFilter:"blur(10px)","& > *":{margin:e.spacing(1),height:"5rem",width:"15rem",fontSize:"1.2rem"}}}})),R=function(e){var t=e.classes,n=e.setIsBetActionOpen,c=e.bets,a=E({classes:t});return Object(m.jsx)("div",{className:a.container,children:Object(m.jsx)(L.a,{onClick:function(){return n(!1)},variant:"outlined",children:c.length>0?"NEXT BET":"MAKE A BET"})})},W=n(59),T=n.n(W),J=n(167),D=n(187),G=n(168),P=n(169),F=n(190),z=n(170),Y=n(171),M=n(172),U=Object(j.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},container:{textAlign:"left"},gamesWrapper:{display:"flex",flexDirection:"column"},label:{margin:"1rem 0 1rem .2rem"}}})),_=function(e){var t,n=e.classes,a=e.games,r=e.selectedGame,s=e.setBetList,i=e.setSelectedGame,l=e.setIsOrderSet,d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],p=j[1],u=U({classes:n});return Object(m.jsxs)("div",{className:u.container,children:[Object(m.jsx)($,{title:"Select race",subtitle:T()().format("LL")}),Object(m.jsx)(J.a,{classes:{root:u.label},control:Object(m.jsx)(D.a,{checked:b,onChange:function(){p(!b)}}),label:"Filter active games"}),Object(m.jsx)(G.a,{}),Object(m.jsx)(P.a,{component:"nav",className:u.root,"aria-label":"contacts",children:(b?(t=a,t.filter((function(e){return e.active}))):a).map((function(e){var t=e.id,n=(e.active,e.name);return Object(m.jsxs)(F.a,{button:!0,onClick:function(){i(r===t?null:t),l(!1),s([])},children:[Object(m.jsx)(z.a,{primary:n}),t===r&&Object(m.jsx)(Y.a,{children:Object(m.jsx)(M.a,{})})]},t)}))})]})},q=n(173),H=n(174),K=n(175),X=Object(j.a)((function(){return{root:{display:"fex"},container:{padding:"1.5rem",textAlign:"center",textTransform:"uppercase",fontWeight:"bold",background:"#fcfcfc",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"},header:{display:"flex",flexDirection:"column",alignItems:"flex-start"},avatar:{backgroundColor:"red"}}})),$=function(e){var t=e.classes,n=e.title,c=e.subtitle,a=X({classes:t});return Object(m.jsx)(q.a,{className:a.root,children:Object(m.jsx)(H.a,{classes:{content:a.header},avatar:Object(m.jsx)(K.a,{fontSize:"large"}),title:n,subheader:c})})},Q=n(65),V=n(176),Z=n(177),ee=Object(j.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},container:{textAlign:"left",position:"relative",height:"100%"},icon:{width:"1.5rem",height:"1.5rem",padding:".5rem"},infoWrapper:{display:"flex",justifyContent:"space-between",padding:"1rem 1rem"},button:{minWidth:"10rem"},orderSet:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"absolute",top:"0",left:"0",zIndex:2,backdropFilter:"blur(10px)",borderRadius:"10px"},checkIcon:{fontSize:"10rem !important",color:"green"}}})),te=function(e){var t=e.classes,n=e.isOrderSet,c=e.participants,r=e.setIsOrderSet,s=e.setAcviveStep,l=e.setBetList,d=e.games,j=e.selectedGame,b=ee({classes:t});a.a.useEffect((function(){l(u(c,p(d,j)))}),[]);return Object(m.jsxs)("div",{className:b.container,children:[Object(m.jsx)($,{title:"Select places...",subtitle:p(d,j)}),Object(m.jsxs)("div",{className:b.infoWrapper,children:[Object(m.jsx)(J.a,{control:Object(m.jsx)(V.a,{classes:{root:b.icon}}),label:"Drag and drop for selecting places and then"}),Object(m.jsx)(L.a,{onClick:function(){r(!0),s(2)},classes:{root:b.button},variant:"outlined",children:"BET"})]}),Object(m.jsx)(G.a,{}),Object(m.jsx)(Q.a,{onDragEnd:function(e){var t,n=function(e,t,n){var c=Array.from(e),a=c.splice(t,1),r=Object(o.a)(a,1)[0];return n&&c.splice(n,0,r),c}(c,e.source.index,null===(t=e.destination)||void 0===t?void 0:t.index);l(u(n,p(d,j)))},children:Object(m.jsx)(Q.c,{droppableId:"123",children:function(e,t){return Object(m.jsxs)(P.a,{component:"nav",className:b.root,"aria-label":"contacts",ref:e.innerRef,children:[c.map((function(e,t){var n=e.body,c=e.id;return Object(m.jsx)(Q.b,{draggableId:"".concat(c),index:t,children:function(e,a){return Object(m.jsx)("div",Object(i.a)(Object(i.a)(Object(i.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)(F.a,{button:!0,children:[Object(m.jsx)(z.a,{primary:n}),0===t&&Object(m.jsx)(Y.a,{children:"1 place"}),1===t&&Object(m.jsx)(Y.a,{children:"2 place"}),2===t&&Object(m.jsx)(Y.a,{children:"3 place"})]},c),2===t&&Object(m.jsx)(G.a,{})]})}))}},c)})),e.placeholder]})}})}),n&&Object(m.jsx)("div",{className:b.orderSet,children:Object(m.jsx)(Z.a,{classes:{root:b.checkIcon}})})]})},ne=n(178),ce=n(180),ae=n(179),re=n(21),se=Object(j.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},container:{textAlign:"left"},icon:{width:"1.5rem",height:"1.5rem",padding:".5rem"},infoWrapper:{display:"flex",justifyContent:"space-between",padding:"1rem 1rem"},button:{minWidth:"10rem"},backButton:{width:"6rem",height:"6rem",borderRadius:"4px",margin:".2rem"},betInfo:{display:"flex",flexDirection:"column"}}})),ie=function(e){var t=e.classes,n=e.setIsOrderSet,c=e.setAcviveStep,a=e.setIsConfirmationOpen,r=e.betList,s=se({classes:t});return Object(m.jsxs)("div",{className:s.container,children:[Object(m.jsx)($,{title:"Confirm Cupon",subtitle:T()().format("LL")}),Object(m.jsxs)("div",{className:s.infoWrapper,children:[Object(m.jsx)(J.a,{control:Object(m.jsx)(ne.a,{classes:{root:s.icon}}),label:"Check cupon details and pay"}),Object(m.jsx)(L.a,{onClick:function(){return a(!0)},classes:{root:s.button},variant:"outlined",children:"PAY"})]}),Object(m.jsx)(G.a,{}),r.map((function(e,t){var n=e.raceName,c=e.first,a=e.second,r=e.third;return Object(m.jsxs)("div",{className:s.betInfo,children:[Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h4",component:"h2",children:"GAME"}),Object(m.jsx)(re.a,{variant:"body1",color:"textSecondary",component:"p",children:n})]}),Object(m.jsx)(G.a,{}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"h2",children:"First Place"}),Object(m.jsx)(re.a,{variant:"body1",color:"textSecondary",component:"p",children:c})]}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"h2",children:"Second Place"}),Object(m.jsx)(re.a,{variant:"body1",color:"textSecondary",component:"p",children:a})]}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"h2",children:"Third Place"}),Object(m.jsx)(re.a,{variant:"body1",color:"textSecondary",component:"p",children:r})]}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(G.a,{}),Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Total Price: $48"})]})]},t)})),Object(m.jsx)(L.a,{onClick:function(){n(!1),c(1)},classes:{root:s.backButton},variant:"text",children:Object(m.jsx)(ce.a,{})})]})},oe=n(181),le=n(185),de=n(183),je=n(184),be=n(182),pe=function(e){var t=e.open,n=e.dispatch,c=e.betList,a=e.setSelectedGame,r=e.setAcviveStep,s=e.setBetList,i=e.setIsOrderSet,o=e.setIsBetActionOpen,l=e.setIsOpen,d=Object(O.b)().enqueueSnackbar,j=function(){l(!1)};return Object(m.jsx)("div",{children:Object(m.jsxs)(oe.a,{open:t,onClose:j,children:[Object(m.jsx)(be.a,{id:"alert-dialog-title",children:"Are You sure You want to buy this ticked ?"}),Object(m.jsx)(de.a,{children:Object(m.jsx)(je.a,{id:"alert-dialog-description",children:"Click Buy to proceed..."})}),Object(m.jsxs)(le.a,{children:[Object(m.jsx)(L.a,{onClick:j,color:"primary",children:"CANCEL"}),Object(m.jsx)(L.a,{onClick:function(){n({type:"add-bet-to-list",payload:c}),a(null),r(0),s([]),i(!1),o(!0),l(!1),d("This is a success message!",{variant:"success"})},color:"primary",autoFocus:!0,children:"BUY"})]})]})})},ue=Object(j.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center","& > *":{margin:"1rem 2rem",width:e.spacing(60),height:e.spacing(25),borderRadius:"10px"}},paper:{padding:"1rem"},wrapper:{display:"flex",flexDirection:"column"},button:{minWidth:"10rem",marginLeft:"2rem"}}})),he=function(e){var t=e.classes,n=e.dispatch,c=e.bets,a=ue({classes:t});return Object(m.jsxs)("div",{children:[c.map((function(e,t){var n=e.raceName,c=e.first,r=e.second,s=e.third;return Object(m.jsx)("div",{className:a.root,children:Object(m.jsx)(h.a,{classes:{root:a.paper},elevation:4,children:Object(m.jsxs)("div",{className:a.wrapper,children:[Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"CUPON:"}),Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"span",children:"RACE: ".concat(n)}),Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"span",children:"First place: ".concat(c)}),Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"span",children:"Second place: ".concat(r)}),Object(m.jsx)(re.a,{gutterBottom:!0,variant:"h6",component:"span",children:"Third place: ".concat(s)})]})})},t)})),Object(m.jsx)(L.a,{onClick:function(){n({type:"clear-bets"})},classes:{root:a.button},variant:"outlined",children:"CLEAR"})]})},Oe=n(188),me=n(71),fe=function(e,t){switch(t.type){case"set-games-data":return Object(i.a)(Object(i.a)({},e),{},{games:t.payload});case"set-participants-data":return Object(i.a)(Object(i.a)({},e),{},{participants:t.payload});case"add-bet-to-list":var n=t.payload;return Object(i.a)(Object(i.a)({},e),{},{bets:[].concat(Object(me.a)(e.bets),Object(me.a)(n))});case"clear-bets":return Object(i.a)(Object(i.a)({},e),{},{bets:[]});default:return e}};n(111);function xe(){var e=Object(c.useReducer)(fe,d),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),l=Object(o.a)(s,2),j=l[0],b=l[1],p=n.bets;return console.log({state:n}),a.a.useEffect((function(){fetch("https://my-json-server.typicode.com/hdjfye/bet-api/races").then((function(e){return e.json()})).then((function(e){return r({type:"set-games-data",payload:e})})).catch((function(e){return console.log(e.message)})),fetch("https://my-json-server.typicode.com/hdjfye/bet-api/participants").then((function(e){return e.json()})).then((function(e){return r({type:"set-participants-data",payload:e})})).catch((function(e){return console.log(e.message)}))}),[]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(C,{setIsDrawerOpen:b,bets:p}),Object(m.jsx)(g,Object(i.a)({},Object(i.a)({dispatch:r},n))),Object(m.jsx)(Oe.a,{anchor:"right",open:j,onClose:function(){return b(!1)},onOpen:function(){return b(!0)},children:p.length>0&&Object(m.jsx)(he,{dispatch:r,bets:p})})]})}s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(xe,{})}),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.5f8ca6e4.chunk.js.map